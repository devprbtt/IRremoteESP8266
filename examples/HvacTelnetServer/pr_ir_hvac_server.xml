<?xml version="1.0" encoding="UTF-8"?>
<component manufacturer="PR" model="IR_HVAC_Server" rpm_xml_version="1.0" minimum_component_engine_version="8.10"
          xsi:noNamespaceSchemaLocation="racepoint_component_profile.xsd"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          alias="IR & HVAC Telnet Server"
          device_class="Media_converter">

    <notes>Generic 8‑output IR controller with HVAC actions over Telnet JSON (port 4998).</notes>

    <control_interfaces preferred="ip">
      <ip port="4998" protocol="tcp" response_time_length_ms="300" name_on_component="Ethernet">
        <send_postfix type="hex">0D0A</send_postfix>
      </ip>
    </control_interfaces>

    <media_interfaces>
        <data name_on_component="Ethernet">
            <combined_media>
                <data_media type="ethernet"/>
                <control port="4998"/>
            </combined_media>
        </data>
    </media_interfaces>

    <device_control_interfaces>
        <ir name_on_component="IR Output 1" connector_type="ir_control_captive_screw"/>
        <ir name_on_component="IR Output 2" connector_type="ir_control_captive_screw"/>
        <ir name_on_component="IR Output 3" connector_type="ir_control_captive_screw"/>
        <ir name_on_component="IR Output 4" connector_type="ir_control_captive_screw"/>
        <ir name_on_component="IR Output 5" connector_type="ir_control_captive_screw"/>
        <ir name_on_component="IR Output 6" connector_type="ir_control_captive_screw"/>
        <ir name_on_component="IR Output 7" connector_type="ir_control_captive_screw"/>
        <ir name_on_component="IR Output 8" connector_type="ir_control_captive_screw"/>
    </device_control_interfaces>

    <logical_component logical_component_name="IR_HVAC_Controller">
        <implementation>
            <data name_on_component="Ethernet"/>
        </implementation>

        <resource_component_actions resource_type="MEDIA_IR_OUT">
            <action name="RawSendPronto">
                <action_argument name="Emitter" note="0-7"/>
                <action_argument name="Code" note="Pronto string, spaces or commas OK"/>
                <command_interface interface="ip">
                    <command response_required="no">
                        <command_string type="character">{&quot;cmd&quot;:&quot;raw&quot;,&quot;emitter&quot;:</command_string>
                        <parameter_list>
                            <parameter parameter_data_type="character" action_argument="Emitter"/>
                        </parameter_list>
                        <command_string type="character">,&quot;encoding&quot;:&quot;pronto&quot;,&quot;code&quot;:&quot;</command_string>
                        <parameter_list>
                            <parameter parameter_data_type="character" action_argument="Code"/>
                        </parameter_list>
                        <command_string type="character">&quot;}</command_string>
                    </command>
                </command_interface>
            </action>

            <action name="RawSendGC">
                <action_argument name="Emitter" note="0-7"/>
                <action_argument name="Code" note="GlobalCache string e.g. sendir,1:1,1,38000,..."/>
                <command_interface interface="ip">
                    <command response_required="no">
                        <command_string type="character">{&quot;cmd&quot;:&quot;raw&quot;,&quot;emitter&quot;:</command_string>
                        <parameter_list>
                            <parameter parameter_data_type="character" action_argument="Emitter"/>
                        </parameter_list>
                        <command_string type="character">,&quot;encoding&quot;:&quot;gc&quot;,&quot;code&quot;:&quot;</command_string>
                        <parameter_list>
                            <parameter parameter_data_type="character" action_argument="Code"/>
                        </parameter_list>
                        <command_string type="character">&quot;}</command_string>
                    </command>
                </command_interface>
            </action>
        </resource_component_actions>

        <resource_component_actions resource_type="ENV_HVAC_CONTROLLER_SOURCE">
            <action name="HvacSend">
                <action_argument name="DeviceId" note="Matches config hvac id"/>
                <action_argument name="Power" note="on|off"/>
                <action_argument name="Mode" note="auto|cool|heat|dry|fan_only"/>
                <action_argument name="TempC" note="Integer °C"/>
                <action_argument name="Fan" note="auto|low|med|high"/>
                <command_interface interface="ip">
                    <command response_required="no">
                        <command_string type="character">{&quot;cmd&quot;:&quot;send&quot;,&quot;id&quot;:&quot;</command_string>
                        <parameter_list>
                            <parameter parameter_data_type="character" action_argument="DeviceId"/>
                        </parameter_list>
                        <command_string type="character">&quot;,&quot;power&quot;:&quot;</command_string>
                        <parameter_list>
                            <parameter parameter_data_type="character" action_argument="Power"/>
                        </parameter_list>
                        <command_string type="character">&quot;,&quot;mode&quot;:&quot;</command_string>
                        <parameter_list>
                            <parameter parameter_data_type="character" action_argument="Mode"/>
                        </parameter_list>
                        <command_string type="character">&quot;,&quot;temp&quot;:&quot;</command_string>
                        <parameter_list>
                            <parameter parameter_data_type="character" action_argument="TempC"/>
                        </parameter_list>
                        <command_string type="character">&quot;,&quot;fan&quot;:&quot;</command_string>
                        <parameter_list>
                            <parameter parameter_data_type="character" action_argument="Fan"/>
                        </parameter_list>
                        <command_string type="character">&quot;}</command_string>
                    </command>
                </command_interface>
            </action>
        </resource_component_actions>
    </logical_component>
</component>
